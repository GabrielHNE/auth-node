<!DOCTYPE html>
<html>
  <head>
    <title>SignUp!</title>

    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto&display=swap"
      rel="stylesheet"
    />
  </head>
  <body style="text-align: center; font-family: 'Roboto', sans-serif">
    <h1>SignIn</h1>

    <form>
      <fieldset>
        <label for="email">Email:</label>
        <input id="email" type="email" name="email" />
      </fieldset>
      <fieldset>
        <label for="password">Senha:</label>
        <input id="password" type="password" name="password" />
      </fieldset>

      <input id="submit" type="submit" value="Submit" />
    </form>

    <script>
      var xhr = new XMLHttpRequest();

      let submitButton = document.getElementById("submit");

      submitButton.addEventListener("click", (event) => {
        event.preventDefault();
        console.log("WTF");
        const email = document.getElementById("email").value;
        const password = document.getElementById("password").value;

        // console.log(email.value);
        // console.log(password.value);

        // login(email.value, password.value);
        xhr.open("POST", "http://localhost:3000/auth/authentication", true);
        xhr.setRequestHeader("Content-Type", "application/json");

        xhr.onreadystatechange = function() {
            if (xhr.readyState === 4) {
              console.log(xhr.response);
            }
        }

        xhr.send(
          JSON.stringify({
            email,
            password,
          })
        );
      });
    </script>
  </body>
</html>
